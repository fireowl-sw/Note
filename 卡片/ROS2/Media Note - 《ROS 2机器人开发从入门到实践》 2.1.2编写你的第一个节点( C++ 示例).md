---
media: https://www.bilibili.com/video/BV1FH4y1c7Px
---
DECK: C++::2.1.2编写你的第一个节点

- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 00:29|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT29.84S.webp) [00:29](https://www.bilibili.com/video/BV1FH4y1c7Px?t=29.839954#t=29.84) 示例代码

- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 03:19|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT3M19.623S.webp) [03:19](https://www.bilibili.com/video/BV1FH4y1c7Px?t=199.622656#t=03:19.62) 实操


#### ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 05:08|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT5M8.016S.webp) [05:08](https://www.bilibili.com/video/BV1FH4y1c7Px?t=308.016446#t=05:08.02) argc与argv是什么？
argc：参数数量
argv：二维参数数组。[0]程序名字，[1]参数名字
- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 07:35|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT7M35.38S.webp) [07:35](https://www.bilibili.com/video/BV1FH4y1c7Px?t=455.379636#t=07:35.38) 识别参数进行处理
- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 10:01|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT10M1.443S.webp) [10:01](https://www.bilibili.com/video/BV1FH4y1c7Px?t=601.443169#t=10:01.44) 但应好表示int，双引号表示字符串
<!--ID: 1743148144749-->




- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 11:10|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT11M10.621S.webp) [11:10](https://www.bilibili.com/video/BV1FH4y1c7Px?t=670.62113#t=11:10.62) 正式编写节点程序

- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 12:05|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT12M5.902S.webp) [12:05](https://www.bilibili.com/video/BV1FH4y1c7Px?t=725.902482#t=12:05.90) hpp表示c++头文件，初始化


- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 13:16|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT13M16.022S.webp) [13:16](https://www.bilibili.com/video/BV1FH4y1c7Px?t=796.021542#t=13:16.02) 创建节点。使用auto自动类型推导


- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 14:25|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT14M25.287S.webp) [14:25](https://www.bilibili.com/video/BV1FH4y1c7Px?t=865.286984#t=14:25.29) 打印日志

- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 15:08|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT15M8.302S.webp) [15:08](https://www.bilibili.com/video/BV1FH4y1c7Px?t=908.302119#t=15:08.30) 运行这个节点rclcpp::spin(node)
spin 在启动后不断循环这个节点
rclcpp::shutdown()完成资源清理


- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 16:56|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT16M56.426S.webp) [16:56](https://www.bilibili.com/video/BV1FH4y1c7Px?t=1016.426065#t=16:56.43) 为什么g++无法找到rclcpp头文件


- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 17:27|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT17M27.77S.webp) [17:27](https://www.bilibili.com/video/BV1FH4y1c7Px?t=1047.770131#t=17:27.77) cmakelist建立工程
- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 19:05|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT19M5.496S.webp) [19:05](https://www.bilibili.com/video/BV1FH4y1c7Px?t=1145.495996#t=19:05.50) 添加查找依赖，在makelist里面添加
find_package(rclcpp REQUIRED) 加入依赖后可以搜索到头文件和库文件
message(STATUS ${rclcpp_INCLUDE_DIRS})打印头文件路径及rclcpp以来的头文件
message(STATUS ${rclcpp_LIBRARIES})库文件
ctrl+f可以快速过滤


- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 24:43|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT24M43.447S.webp) [24:43](https://www.bilibili.com/video/BV1FH4y1c7Px?t=1483.44742#t=24:43.45) 让程序可以找到头文件
- target_include_directories(ros2_cpp_node PUBLIC ${rclcpp_INCLUDE_DIRS})头文件链接
- target_link_libraries(ros2_cpp_node ${rclcpp_INCLUDE_DIRS})库文件链接


- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 26:41|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT26M41.717S.webp) [26:41](https://www.bilibili.com/video/BV1FH4y1c7Px?t=1601.716867#t=26:41.72)  查看节点信息实战


- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 27:12|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT27M12.99S.webp) [27:12](https://www.bilibili.com/video/BV1FH4y1c7Px?t=1632.990176#t=27:12.99) 因为接下来学习CmakeList会被ros2误搜索到

- ![《ROS 2机器人开发从入门到实践》 2.1.2编写你的第一个节点( C++ 示例) - 29:40|50](《ROS%202机器人开发从入门到实践》%202.1.2编写你的第一个节点(%20C++%20示例)PT29M40.134S.webp) [29:40](https://www.bilibili.com/video/BV1FH4y1c7Px?t=1780.133865#t=29:40.13) C++插件怎么找rclcpp
- 编辑includePath添加进去
